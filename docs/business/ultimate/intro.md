# 介绍

旗舰版主要面向有严格性能要求的项目。旗舰版相对社区版在性能方面有巨幅提升，基本达到原生性能水平，同时在安全性和内存方面有较好的优化。


## 优势

- 包含独创的`DHE`技术，未变化部分代码性能与原生完全相同，相较社区版本纯解释方式提升惊人的**3-30**倍甚至更高，整体**几乎达到**原生性能水平
- 支持Unity 2021起的il2cpp的`full generic sharing`技术，值类型也可以泛型共享了，以原生方式执行AOT泛型函数，极大提升了泛型函数的执行性能。不再需要对AOT进行补充元数据，简化了工作流，并且有效降低包体大小，明显降低了内存占用。对WebGL等包体和内存要求严苛的平台尤其有用
- **支持增量式GC**
- 将于2023.7支持 **深度指令优化技术**，对指令进行深度优化，解释性能整体提升100%-1000%（没看错，10倍以上）甚至更高，对于数值指令整体提升近300%。由于提前将指令转换为寄存器指令，运行时指令翻译耗时大幅缩短，游戏运行更流畅
- 优化了元数据分配，占用内存更少
- 提前将原始IL指令转换为寄存器指令，天然抗反编译破解，更安全
- 优化加载及运行过程中元数据分配，更节省内存
- 更敏捷的维护支持，随时获得最新的代码（社区版本出于维护成本考虑，只会定期发布版本）
- 原生代码已全部在包体中，被各大AppStore拒审的风险大幅降低
- 附含一年的技术支持，快速解决使用过程中遇到的各种问题


以下是旗舰版本相比于社区版本的解释性能提升数据。注意，只有变化代码才会走解释，如果未改动，两者的性能和原生是一样的。

![interpreter_optimization](/img/hybridclr/interpreter_optimization.jpg)

以下是数值计算方面原生与旗舰版本的解释性能对比，加法大约为7-16倍左右，乘法是4倍，除法是2倍。注意，只有变化代码才会走解释，如果未改动，性能和原生是一样的。

![benchmark_numeric](/img/hybridclr/benchmark_numeric.jpg)
